<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="assets/styles/global.css">
    <link rel="stylesheet" href="assets/styles/wheel-style.css">
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>


    <title>Wheel of fortune</title>
</head>

<body id="wheelfortune">
    <a href="index.html" class="home-btn">&lt;</a>
    <button id="lang-toggle" aria-label="Switch language" aria-pressed="false">TH</button>
    <button id="info-btn">üîÆ</button>
    <div id="info-box">
        <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
        <p>‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏•‡∏∏‡πâ‡∏ô Yes/No ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à</p>
    </div>
    <div class="bg">
        <div class="star-field">
            <div class="layer"></div>
            <div class="layer"></div>
            <div class="layer"></div>
        </div>
    </div>
    <div class="layout">
        <main>
            <h1>Wheel Of Fortune</h1>
            <div id="question">
                <label>Spin the mystical wheel and let fate decide. Yes or no? Let the universe answer for
                    you.</label><br>
                <input type="text" class="text-input" id="quest" name="quest" required="" value=""
                    placeholder="type here...">
                <button class="btn" id="draw-btn" onclick="sendMessage()">Ask</button>
            </div>
        </main>
        <aside>
            <div class="wheel-container">
                <p id="result" class="result-popup"></p>
                <div class="pointer"></div>
                <canvas id="wheel" width="500" height="500"></canvas>
            </div>
            <p id="result"></p>
        </aside>
    </div>

    <script src="scripts/spin-wheel.js"></script>
    <script>
        const infoBtn = document.getElementById("info-btn");
        const infoBox = document.getElementById("info-box");

        infoBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            infoBox.classList.toggle("show");
        });

        document.addEventListener("click", (e) => {
            if (!infoBox.contains(e.target) && e.target !== infoBtn) {
                infoBox.classList.remove("show");
            }
        });
    </script>
    <script>
        const translations = {
            en: {
                title: "Wheel of Fortune",
                description: "Spin the mystical wheel and let fate decide. Yes or no? Let the universe answer for you.",
                placeholder: "type here...",
                askBtn: "Ask",
            },
            th: {
                title: "‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤",
                description: "‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á",
                placeholder: "‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ...",
                askBtn: "‡∏ñ‡∏≤‡∏°",
            }
        };

        const LANG_KEY = "siteLang";
        const DEFAULT_LANG = "en";

        function getLang() {
            return localStorage.getItem(LANG_KEY) || DEFAULT_LANG;
        }

        function applyLang(lang) {
            document.documentElement.lang = lang;
            const t = translations[lang];

            // Title tag
            document.title = t.title;

            // Heading
            const h1 = document.querySelector("h1");
            if (h1) h1.textContent = t.title;

            // Label description
            const label = document.querySelector("#question label");
            if (label) label.textContent = t.description;

            // Placeholder
            const input = document.querySelector("#quest");
            if (input) input.placeholder = t.placeholder;

            // Ask button
            const btn = document.querySelector("#draw-btn");
            if (btn) btn.textContent = t.askBtn;

            // Toggle button
            const toggle = document.querySelector("#lang-toggle");
            if (toggle) {
                toggle.textContent = lang === "en" ? "TH" : "EN";
                toggle.setAttribute("aria-pressed", lang === "th");
                toggle.title = lang === "en" ? "Switch to Thai" : "Switch to English";
            }

            localStorage.setItem(LANG_KEY, lang);
        }

        document.addEventListener("DOMContentLoaded", () => {
            const lang = getLang();
            applyLang(lang);

            const toggle = document.querySelector("#lang-toggle");
            if (toggle) {
                toggle.addEventListener("click", () => {
                    const newLang = getLang() === "en" ? "th" : "en";
                    applyLang(newLang);
                });
            }
        });
    </script>

</body>

</html>
